(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{301:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return f}));var a=n(23),o=n(36),c=n(305),r=n(311),i=n.n(r),s=n(62),l=n(312),d=n(313),u=Object(l.a)({apiKey:"AIzaSyA3VHRbj4knFBXK3YVFdsr7xn2MvE1A0_E",authDomain:"hotel-booking-app-2c070.firebaseapp.com",projectId:"hotel-booking-app-2c070",storageBucket:"hotel-booking-app-2c070.appspot.com",messagingSenderId:"308536271440",appId:"1:308536271440:web:cf389c892a5fa653486755"}),b=Object(d.a)(u),j=n(349),m=function(e){return i()(e).format("DD/MM/YYYY")},p=function(e){return i()(e).format("Do MMMM, YYYY")},h=function(e){var t=i()(),n=i()(e).format("YYYY");return t.diff(n,"years")},O=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,n){var r,i,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return alert("No file found."),e.abrupt("return");case 3:return r=Object(c.d)(b,n),(i=Object(c.e)(r,t)).on("state_changed",(function(e){}),(function(e){s.b.error(e,{autoClose:5500,pauseOnHover:!0})}),(function(){l=Object(c.b)(i.snapshot.ref)})),e.next=8,Promise.resolve(i).then(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(l).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,n){var c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=3;break}return alert("No file found."),e.abrupt("return");case 3:return c=[],e.next=6,Promise.all(t.map(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,o){var r,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(j.a)(),i="images/rooms/".concat(n.id,"/roomImage-").concat(r),e.next=4,O(t,i);case 4:s=e.sent,c.push({url:s,uuid:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,o){var r,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uuid,i=Object(c.d)(b,"images/rooms/".concat(n,"/roomImage-").concat(r)),e.next=4,Object(c.a)(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},302:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x}));var a,o,c,r,i,s,l,d=n(12),u=n(18),b=u.a.div(a||(a=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #000000d1;\n    z-index: 9999999\n"]))),j=u.a.div(o||(o=Object(d.a)([";\n    width: 700px;\n    max-height: 80vh;\n    overflow-y: scroll;\n    background: #fff;\n    padding: 20px;\n    border-radius: 6px;\n    position: relative;\n    .close-icon{\n        position: absolute;\n        top: 20px;\n        right: 20px;\n        cursor: pointer\n    }\n    @media(max-width: 700px){\n        width: calc(100vw - 40px);\n    }\n"]))),m=u.a.h3(c||(c=Object(d.a)(["\n    font-weight: 26px;\n    font-weight: 600;\n    margin-bottom: 20px\n"]))),p=u.a.div(r||(r=Object(d.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));\n    justify-content: center;\n    row-gap: 16px;\n    column-gap: 16px;\n    div{\n        width: 40px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border: 1px solid red;\n        cursor: pointer;\n        border-radius: 4px;\n    }\n    .assigned{\n        background: #ffadad\n    }\n    .selected{\n        background: #8dffd0;\n        border-color: green\n    }\n"]))),h=u.a.div(i||(i=Object(d.a)(["\n    margin-bottom: 20px;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    grid-gap: 16px;\n"]))),O=u.a.div(s||(s=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    border-radius: 4px;\n    background: #ffcdb8;\n    height: 160px;\n    .plus-icon{\n        color: #9a9a9a !important;\n        font-size: 40px !important;\n    }\n"]))),x=u.a.div(l||(l=Object(d.a)(["\n    display: flex;\n    justify-content: space-between\n"])))},303:function(e,t,n){},306:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a,o,c,r=n(12),i=n(60),s=Object(i.a)(a||(a=Object(r.a)(["\nquery($id: ID!){\n    getUserBookings(id: $id){\n        id\n        from\n        to\n        days\n        paid\n        amount\n        bookedOn\n        people{\n            children\n            adults\n        }\n        roomNumbers\n        numOfPeople\n        location\n        bookedBy{\n            name\n            email\n            username\n            id\n        }\n        hotel{\n            id\n            name\n            location\n        }\n        room{\n            id\n            name\n            price\n            others\n        }\n    }\n}\n"]))),l=Object(i.a)(o||(o=Object(r.a)(["\nquery($id: ID!){\n    getHotelBookings(id: $id){\n        id\n        from\n        to\n        days\n        paid\n        amount\n        bookedOn\n        people{\n            children\n            adults\n        }\n        roomNumbers\n        numOfPeople\n        location\n        bookedBy{\n            name\n            email\n            username\n            id\n        }\n        hotel{\n            id\n            name\n            location\n        }\n        room{\n            id\n            name\n            price\n            others\n        }\n    }\n}\n"])));Object(i.a)(c||(c=Object(r.a)(["\n    query($id: ID!){\n        getBooking(id: id){\n            id\n        from\n        to\n        days\n        paid\n        amount\n        bookedOn\n        people{\n            children\n            adults\n        }\n        roomNumbers\n        numOfPeople\n        location\n        bookedBy{\n            name\n            email\n            username\n            id\n        }\n        hotel{\n            id\n            name\n            location\n        }\n        room{\n            id\n            name\n            price\n            others\n        }\n        }\n    }\n"])))},308:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var a,o,c,r,i=n(12),s=n(18),l=s.a.div(a||(a=Object(i.a)(["\n  height: 58px;\n  border: 1px solid #d2d2d2;\n  padding: 8px 10px;\n  display: grid;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 6px;\n  margin-bottom: 10px;\n\n  &.normal-col{\n    @media(max-width: 700px) {\n      display: none;\n    }\n  }\n\n  &.responsive-col{\n    display: none;\n    grid-template-columns: 0.5fr 1fr !important;\n\n    @media(max-width: 700px) {\n      display: grid;\n    }\n  }\n\n  \n"]))),d=s.a.p(o||(o=Object(i.a)(["\n  margin: 0 !important;\n  text-align: center;\n  width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  cursor: pointer;\n  :first-child{\n    text-align: left;\n  }\n  p{\n    width: fit-content;\n    margin: 0\n  }\n"]))),u=s.a.button(c||(c=Object(i.a)(["\n  width: 40px;\n  height: 40px;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #d2d2d2;\n  border-radius: 4px !important;\n  outline: 0;\n  margin: 0 6px !important;\n  background: transparent;\n  cursor: pointer\n"]))),b=s.a.div(r||(r=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])))},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a,o,c=n(12),r=n(60),i=Object(r.a)(a||(a=Object(c.a)(["\nmutation($from: Date!, $to: Date!, $roomNumbers: [Int]!, $paid: Boolean!, $amount: Int!,\n    $bookedBy: ID!, $people: people!, $room: ID!, $hotel: ID!){\n    addBooking(from: $from, to: $to, roomNumbers: $roomNumbers, paid: $paid, amount: $amount, \n        bookedBy: $bookedBy, people: $people, room: $room, hotel: $hotel){\n      id\n      from\n      to\n      bookedBy{\n          name\n      }\n    }\n  }\n"]))),s=Object(r.a)(o||(o=Object(c.a)(["\nmutation($id: ID!){\n    cancelBooking(id: $id){\n      id\n      from\n      to\n      bookedBy{\n          name\n      }\n    }\n  }\n"])))},310:function(e,t,n){"use strict";n(0),n(317);var a=n(32),o=n(1);t.a=function(e){return Object(o.jsx)("div",{className:"search-bar",children:Object(o.jsx)(a.c,{placeholder:e.placeholder,value:e.query,onChange:function(t){return e.setQuery(t.target.value)}})})}},314:function(e,t,n){"use strict";var a,o,c=n(30),r=n(17),i=n(12),s=n(0),l=n(32),d=n(18),u=n(323),b=n.n(u),j=(n(326),n(302)),m=n(72),p=n(75),h=n(327),O=n.n(h),x=n(1),f=d.a.div(a||(a=Object(i.a)(["\n    margin-bottom: 20px;\n    background: #e2e2e2;\n    border-radius: 4px;\n    overflow: hidden;\n"]))),g=d.a.div(o||(o=Object(i.a)(["\n    overflow: hidden;\n    cursor: pointer;\n    height: 260px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    &.selected{\n        border: 2px red solid\n    }\n    img{\n        max-width: 100%;\n        max-height: 100%;\n    }\n    .delete-icon{\n        position: absolute;\n        bottom: 2px;\n        right: 2px;\n        background: white;\n        padding: 2px;\n        border-radius: 4px\n    }\n"])));t.a=function(e){var t=e.setImageURL,n=e.imageUrl,a=e.data,o=e.styles,i=e.setSelected,d=e.selected,u=Object(s.useRef)(null),h=Object(s.useState)(n||p.a),v=Object(r.a)(h,2),y=v[0],k=v[1],w=Object(s.useState)(!1),N=Object(r.a)(w,2),$=N[0],C=N[1],R=Object(s.useState)(null),S=Object(r.a)(R,2),M=S[0],B=S[1],H=Object(s.useState)({unit:"px",x:130,y:50,width:160,height:90,aspect:16/9}),D=Object(r.a)(H,2),I=D[0],L=D[1],P=Object(s.useState)(""),z=Object(r.a)(P,2),U=z[0],A=z[1],Y=Object(s.useState)({}),q=Object(r.a)(Y,2),T=(q[0],q[1]);function E(e){e.preventDefault();var n=document.createElement("canvas"),a=M.naturalWidth/M.width,o=M.naturalHeight/M.height;n.width=I.width,n.height=I.height,n.getContext("2d").drawImage(M,I.x*a,I.y*o,I.width*a,I.height*o,0,0,I.width,I.height);var c=n.toDataURL("image/jpeg"),r=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],o=atob(n[1]),c=o.length,r=new Uint8Array(c);c--;)r[c]=o.charCodeAt(c);return new File([r],t,{type:a})}(c,"file.jpg");A(c),t(r),C(!1)}return Object(x.jsxs)(f,{children:[$&&Object(x.jsx)(j.e,{children:Object(x.jsx)(j.d,{children:y&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a,{src:y,onImageLoaded:B,crop:I,onChange:L}),Object(x.jsxs)(m.b,{children:[Object(x.jsx)(l.a,{className:"crop-btn",onClick:function(){return k(n),void C(!1)},children:"Cancel"}),Object(x.jsx)(l.a,{className:"crop-btn",onClick:function(e){return E(e)},children:"Crop & Upload Image"})]})]})})}),e.single?Object(x.jsx)(g,{onClick:function(){return n?null:u.current.click()},style:o,children:U?Object(x.jsx)("img",{src:U,alt:""}):Object(x.jsx)("img",{src:y,alt:""})}):Object(x.jsxs)(g,{onClick:function(){return n?null:u.current.click()},style:o,className:"".concat(d.includes(a.uuid)?"selected":""),children:[U?Object(x.jsx)("img",{src:U,alt:""}):Object(x.jsx)("img",{src:y,alt:""}),n&&Object(x.jsx)(O.a,{className:"delete-icon",onClick:function(){if(d.includes(a.uuid)){var e=d.filter((function(e){return e!==a.uuid}));i(e)}else i([].concat(Object(c.a)(d),[a.uuid]))}})]}),Object(x.jsx)(l.c,{type:"file",accept:"image/*",onChange:function(e){return function(e){e.preventDefault(),T(e.target.files[0]),k(URL.createObjectURL(e.target.files[0])),C(!0)}(e)},style:{display:"none"},ref:u})]})}},317:function(e,t,n){},319:function(e,t,n){"use strict";var a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(136)),c=n(1),r=(0,o.default)((0,c.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=r},320:function(e,t,n){"use strict";var a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(136)),c=n(1),r=(0,o.default)([(0,c.jsx)("path",{d:"M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68c1.12 2.36 3.53 4 6.32 4 3.87 0 7-3.13 7-7s-3.13-7-7-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"0"),(0,c.jsx)("path",{d:"M16.5 12H15v5l3.6 2.1.8-1.2-2.9-1.7z"},"1")],"AutoDelete");t.default=r},321:function(e,t,n){"use strict";var a,o,c=n(27),r=n(23),i=n(36),s=n(17),l=n(292),d=n(0),u=n(32),b=n(302),j=n(62),m=(n(156),n(304)),p=n.n(m),h=(n(303),n(107)),O=n(12),x=n(60),f=Object(x.a)(a||(a=Object(O.a)(["\nmutation($image: String, $name: String!, $description: String!, $totalRooms: Int!, $location: String!, $manager: ID!){\n    addHotel(manager: $manager, image: $image, name: $name, description: $description, totalRooms: $totalRooms, location: $location){\n      id\n      name\n      description\n    }\n  }\n"]))),g=Object(x.a)(o||(o=Object(O.a)(["\nmutation($id: ID!, $image: String, $name: String!, $description: String!, $ratings: Int, $totalRooms: Int!, $location: String!){\n    updateHotel(id: $id, image: $image, name: $name, description: $description, ratings: $ratings, totalRooms: $totalRooms, location: $location){\n      id\n      name\n    }\n  }\n"]))),v=n(314),y=n(301),k=n(106),w=n(108),N=n(1);t.a=function(e){var t,n=e.hotel,a=JSON.parse(localStorage.getItem("user")),o=Object(d.useState)(!1),m=Object(s.a)(o,2),O=m[0],x=m[1],$=Object(d.useState)(!1),C=Object(s.a)($,2),R=C[0],S=C[1],M=Object(d.useState)({name:n?n.name:"",description:n?n.description:"",id:e.hotel?e.hotel.id:null,image:n?n.image:"",ratings:n?n.ratings:null,totalRooms:n?n.totalRooms:null,location:n?n.location:""}),B=Object(s.a)(M,2),H=B[0],D=B[1],I=Object(l.a)(w.b,{variables:{id:a.id}}),L=Object(s.a)(I,1)[0],P=Object(l.a)(f),z=Object(s.a)(P,1)[0],U=Object(l.a)(g,{refetchQueries:[h.a,{variables:{id:null===(t=e.hotel)||void 0===t?void 0:t.id}}]}),A=Object(s.a)(U,1)[0],Y=function(){var t=Object(i.a)(Object(r.a)().mark((function t(a){var o,c,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),S(!0),!((o=Object.keys(n.roomsMap).length)>H.totalRooms)){t.next=6;break}return j.b.warning("You have already assigned ".concat(o," rooms. Unassign those rooms to decrease room numbers."),{autoClose:5500,pauseOnHover:!0}),t.abrupt("return");case 6:if(c="images/hotels/".concat(H.id,"/hotelImage"),i=null,"string"===typeof H.image){t.next=12;break}return t.next=11,Object(y.f)(H.image,c);case 11:i=t.sent;case 12:A({variables:{name:H.name,description:H.description,id:H.id,image:i||H.image,ratings:H.ratings,totalRooms:H.totalRooms,location:H.location}}).then((function(t){j.b.success("Updated hotel.",{autoClose:5500,pauseOnHover:!0,onClose:e.setHotelModal(!1)}),x(!0),S(!1)})).catch((function(e){j.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),S(!1)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(i.a)(Object(r.a)().mark((function t(n){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),S(!0),z({variables:{manager:a.id,image:null,name:H.name,description:H.description,totalRooms:H.totalRooms,location:H.location}}).then(function(){var t=Object(i.a)(Object(r.a)().mark((function t(n){var o,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="images/hotels/".concat(n.data.addHotel.id,"/hotelImage"),c=null,"string"===typeof H.image){t.next=6;break}return t.next=5,Object(y.f)(H.image,o);case 5:c=t.sent;case 6:A({variables:{name:H.name,description:H.description,id:n.data.addHotel.id,image:c,ratings:n.data.addHotel.ratings,totalRooms:H.totalRooms,location:H.location}}).then((function(t){j.b.success("Hotel added.",{autoClose:5500,pauseOnHover:!0}),L({variables:{id:a.id}}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.makeManager)),x(!0),S(!1),e.setHotelModal(!1)})).catch((function(e){j.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),S(!1)}))})).catch((function(e){j.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),S(!1)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){j.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),S(!0)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(N.jsx)(b.e,{children:Object(N.jsx)(b.d,{className:"modal-box",children:R?Object(N.jsx)(k.a,{}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(p.a,{className:"close-icon",onClick:function(){return e.setHotelModal(!1)}}),Object(N.jsx)(b.f,{children:e.title}),Object(N.jsx)(v.a,{imageUrl:H.image,refPath:"images/hotels/".concat(H.id,"/hotelImage"),setImageURL:function(e){return D(Object(c.a)(Object(c.a)({},H),{},{image:e}))},single:!0}),Object(N.jsxs)("form",{onSubmit:"update"===e.action?Y:q,children:[Object(N.jsx)(u.c,{required:"true",style:{marginBottom:"16px"},value:H.name,onChange:function(e){return D(Object(c.a)(Object(c.a)({},H),{},{name:e.target.value}))},placeholder:"Hotel name"}),Object(N.jsx)(u.e,{required:"true",style:{marginBottom:"16px"},value:H.description,onChange:function(e){return D(Object(c.a)(Object(c.a)({},H),{},{description:e.target.value}))},placeholder:"Hotel description"}),Object(N.jsx)(u.c,{required:"true",style:{marginBottom:"16px"},value:H.location,onChange:function(e){return D(Object(c.a)(Object(c.a)({},H),{},{location:e.target.value}))},placeholder:"Location"}),Object(N.jsx)(u.c,{required:"true",style:{marginBottom:"16px"},value:H.totalRooms,onChange:function(e){return D(Object(c.a)(Object(c.a)({},H),{},{totalRooms:Number(e.target.value)}))},placeholder:"Total Rooms"}),!O&&Object(N.jsx)(u.a,{type:"submit",style:{marginLeft:"auto",marginTop:"40px"},children:e.title})]})]})})})}},328:function(e,t,n){"use strict";n.r(t);var a,o,c=n(17),r=n(0),i=n(20),s=n(12),l=n(18),d=n(310),u=n(106),b=n(292),j=n(62),m=n(308),p=n(309),h=n(306),O=n(301),x=n(320),f=n.n(x),g=n(319),v=n.n(g),y=n(1),k=l.a.div(a||(a=Object(s.a)(["\n    background: white;\n    box-shadow: 2px 3px 7px 0px #66666682;\n    padding: 14px;\n    border-radius: 6px;\n    max-width: 100%;\n\n    .details {\n        margin-top: 16px;\n        \n        p {\n            text-align: start;\n            font-size: 14px;\n            color: grey\n        }\n    }\n\n    .payment-status {\n        padding: 6px;\n        border-radius: 4px;\n        background: #f16d59;\n        text-align: start;\n        font-size: 14px;\n        width: fit-content;\n        margin-top: 6px !important;\n        color: #fff;\n\n        &.paid{\n            background: #5fffc5;\n            color: #008d5a\n        }\n    }\n    \n    \n"]))),w=function(e){var t=e.data,n=t.hotel,a=t.room,o=t.from,r=t.to,i=t.bookedOn,s=t.amount,l=t.paid,d=Object(b.a)(p.b),u=Object(c.a)(d,1)[0];return Object(y.jsxs)(k,{children:[Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)(m.d,{style:{fontSize:"20px",fontWeight:"bold"},children:[n.location,", ",n.name]}),Object(y.jsx)(m.d,{className:"payment-status ".concat(l?"paid":""),children:l?"Paid":"Not Paid"})]}),Object(y.jsxs)(m.a,{style:{justifyContent:"flex-end"},children:[Object(y.jsx)(m.b,{style:{background:"#ff6e29"},onClick:function(){return e.setModal({state:!0,param:e.data,title:"Booking Details"})},children:Object(y.jsx)(v.a,{style:{color:"#fff"}})}),!e.isOld&&Object(y.jsx)(m.b,{style:{background:"#ff6e29"},onClick:function(){e.setLoading(!0),u({variables:{id:e.data.id},refetchQueries:[h.b,{variables:{id:e.data.bookedBy.id}}]}).then((function(t){e.setLoading(!1),j.b.success("Canceled booking.",{autoClose:5500,pauseOnHover:!0})})).catch((function(t){e.setLoading(!1),j.b.error(t.message,{autoClose:5500,pauseOnHover:!0})}))},children:Object(y.jsx)(f.a,{style:{color:"#fff"}})})]})]}),Object(y.jsxs)("div",{className:"details",children:[Object(y.jsx)(m.d,{children:a.name}),Object(y.jsxs)(m.d,{children:["From ",Object(O.d)(o)," - To ",Object(O.d)(r)]}),Object(y.jsxs)(m.d,{children:["Booked On: ",Object(O.d)(i)]}),Object(y.jsxs)(m.d,{children:["Amount: Rs. ",s]})]})]})},N=n(302),$=l.a.div(o||(o=Object(s.a)(["\n    margin-top: 20px;\n\n    .grid-container {\n        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n\n        @media(max-width: 375px){\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n        }\n    }\n\n"]))),C=function(e){var t=Object(r.useState)(""),n=Object(c.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!1),l=Object(c.a)(s,2),b=l[0],j=l[1],m=(new Date).setHours(0,0,0,0),p=e.bookings?e.bookings.filter((function(e){return new Date(e.from)>m})):[],h=e.bookings?e.bookings.filter((function(e){return new Date(e.from)<=m})):[];return p=p.filter((function(e){return e.hotel.name.toLowerCase().includes(a.toString().toLowerCase())})),h=h.filter((function(e){return e.hotel.name.toLowerCase().includes(a.toString().toLowerCase())})),Object(y.jsxs)($,{children:[Object(y.jsx)(d.a,{query:a,setQuery:o,placeholder:"Search bookings by hotel names..."}),Object(y.jsx)(i.g,{style:{fontSize:"20px",margin:"26px 0"},children:"Upcoming Bookings"}),Object(y.jsx)(N.c,{className:"grid-container",children:b?Object(y.jsx)(u.a,{}):p.map((function(t){return Object(y.jsx)(w,{data:t,setLoading:j,loading:b,setModal:e.setModal},t.id)}))}),0===p.length&&Object(y.jsx)(i.g,{className:"small",style:{textAlign:"center",marginTop:"20px"},children:"No Bookings"}),Object(y.jsx)("br",{}),Object(y.jsx)(i.g,{style:{fontSize:"20px",margin:"26px 0"},children:"Old Bookings"}),Object(y.jsx)(N.c,{className:"grid-container",children:b?Object(y.jsx)(u.a,{}):h.map((function(t){return Object(y.jsx)(w,{data:t,setLoading:j,loading:b,setModal:e.setModal,isOld:!0},t.id)}))}),0===h.length&&Object(y.jsx)(i.g,{className:"small",style:{textAlign:"center",marginTop:"20px"},children:"No Bookings"})]})},R=n(43),S=n(177),M=n(71),B=n(137),H=n(32),D=(n(156),n(304)),I=n.n(D),L=(n(303),n(157)),P=n(72),z=n(13),U=function(e){var t=e.booking,n=Object(z.o)();return Object(y.jsx)(N.e,{children:Object(y.jsxs)(N.d,{className:"modal-box",children:[Object(y.jsx)(I.a,{className:"close-icon",onClick:function(){return e.setModal({state:!1,param:null,title:""})}}),Object(y.jsx)(N.f,{children:e.title}),Object(y.jsx)("br",{}),Object(y.jsxs)(i.g,{className:"small",children:["Booked By: ",Object(y.jsx)("span",{children:t.bookedBy.name})]}),Object(y.jsxs)(i.g,{className:"small",children:["Username: ",Object(y.jsx)("span",{children:t.bookedBy.username})]}),Object(y.jsx)(L.a,{interactive:!0,content:Object(O.e)(t.bookedOn),placement:"bottom",children:Object(y.jsxs)(i.g,{className:"small",children:["Booked On: ",Object(y.jsx)("span",{children:Object(O.d)(t.bookedOn)})]})}),Object(y.jsx)("hr",{}),Object(y.jsx)("br",{}),Object(y.jsxs)(N.b,{children:[Object(y.jsxs)("div",{style:{flexBasis:"46%"},children:[Object(y.jsxs)(i.g,{className:"small",children:["Hotel: ",Object(y.jsx)("span",{children:t.hotel.name})]}),Object(y.jsxs)(i.g,{className:"small",children:["Location: ",Object(y.jsx)("span",{children:t.location})]}),Object(y.jsxs)(i.g,{className:"small",children:["Room: ",Object(y.jsx)("span",{children:t.room.name})]}),Object(y.jsx)(L.a,{interactive:!0,content:Object(O.e)(t.from),placement:"bottom",children:Object(y.jsxs)(i.g,{className:"small",children:["From: ",Object(y.jsx)("span",{children:Object(O.d)(t.from)})]})}),Object(y.jsx)(L.a,{interactive:!0,content:Object(O.e)(t.to),placement:"bottom",children:Object(y.jsxs)(i.g,{className:"small",children:["To: ",Object(y.jsx)("span",{children:Object(O.d)(t.to)})]})}),Object(y.jsxs)(i.g,{className:"small",children:["Duration:",Object(y.jsxs)("span",{children:[" ",t.days," ",1===t.days?"Day":"Days"]})]})]}),Object(y.jsxs)("div",{style:{flexBasis:"46%"},children:[Object(y.jsxs)(i.g,{className:"small",children:["Rooms:",t.roomNumbers.map((function(e){return Object(y.jsx)("span",{className:"highlight",style:{margin:"4px 2px"},children:e})}))]}),Object(y.jsxs)(i.g,{className:"small",children:["Number of persons: ",Object(y.jsx)("span",{children:t.numOfPeople})]}),Object(y.jsxs)(i.g,{className:"small",children:["Adults: ",Object(y.jsx)("span",{children:t.people.adults})]}),Object(y.jsxs)(i.g,{className:"small",children:["Children: ",Object(y.jsx)("span",{children:t.people.children})]})]})]}),Object(y.jsx)("br",{}),Object(y.jsx)("hr",{}),Object(y.jsx)("br",{}),Object(y.jsxs)(i.g,{className:"small",children:["Room Price: ",Object(y.jsxs)("span",{children:["Rs. ",t.room.price]})]}),Object(y.jsxs)(i.g,{className:"small",children:["Amount ",t.paid?"Paid":"To Be Paid",": ",Object(y.jsxs)("span",{children:["Rs. ",t.amount]})]}),Object(y.jsxs)(i.g,{className:"small",children:["Payment Status:",Object(y.jsxs)("span",{children:[" ",t.paid?"Paid":"Not Paid"]})]}),Object(y.jsxs)(P.b,{children:[Object(y.jsx)(H.a,{children:"View Hotel & Room"}),t.paid?null:Object(y.jsx)(H.a,{onClick:function(){n("/payment/".concat(t.hotel.id,"/").concat(t.room.id,"/1"),{state:t})},children:"Pay Now"})]})]})})};t.default=function(e){var t=e.style,n=e.bookingsData,a=Object(r.useContext)(R.a).setPage;Object(r.useEffect)((function(){a("Bookings")}),[]);var o=Object(r.useState)({state:!1,title:"",param:null,action:""}),s=Object(c.a)(o,2),l=s[0],d=s[1],u=JSON.parse(localStorage.getItem("user")),b=Object(S.b)(h.b,{variables:{id:u.id}}),j=b.data,m=b.loading,p=b.error;if(m)return Object(y.jsx)(M.a,{});if(p)return Object(y.jsx)(B.a,{error:p});var O=n||j.getUserBookings;return Object(y.jsxs)(i.c,{style:t,children:[l.state?Object(y.jsx)(U,{booking:l.param,setModal:d,title:l.title}):null,Object(y.jsx)(C,{bookings:O,setModal:d,modal:l})]})}},330:function(e,t,n){"use strict";var a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(136)),c=n(1),r=(0,o.default)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=r},331:function(e,t,n){},343:function(e,t,n){"use strict";var a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(136)),c=n(1),r=(0,o.default)((0,c.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},344:function(e,t,n){"use strict";var a=n(135);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(136)),c=n(1),r=(0,o.default)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},347:function(e,t,n){"use strict";n.r(t);var a,o,c,r,i,s,l,d,u,b,j,m,p,h=n(17),O=n(12),x=n(0),f=n(18),g=n(43),v=n(20),y=n(106),k=n(310),w=n(1),N=f.a.div(a||(a=Object(O.a)(["\n    margin-top: 20px;\n    display: grid;\n    align-items: center;\n    padding: 10px;\n    p{\n      text-align: center;\n      margin: 0 !important;\n      font-weight: bold\n    }\n    p:first-child{\n      text-align: left\n    }\n\n    &.normal-col{\n      @media(max-width: 700px) {\n        display: none;\n      }\n    }\n  \n    &.responsive-col{\n      display: none;\n      grid-template-columns: 0.5fr 1fr !important;\n  \n      @media(max-width: 700px) {\n        display: grid;\n      }\n    }\n"]))),$=function(e){var t=e.list;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{style:{gridTemplateColumns:"repeat(".concat(t.length,", 1fr)")},className:"normal-col",children:t.map((function(e){return Object(w.jsx)("p",{children:e})}))}),Object(w.jsxs)(N,{className:"responsive-col",children:[Object(w.jsx)("p",{children:t[0]}),Object(w.jsx)("p",{children:t[t.length-1]})]})]})},C=n(157),R=(n(180),n(301)),S=n(308),M=n(13),B=n(292),H=n(60),D=Object(H.a)(o||(o=Object(O.a)(["\nmutation($hotel: ID!, $images: [image]!, $name: String!, $description: String!, $others: [String]!, $occupancy: Int!, $price: Int!, $roomNumbers: [Int]!){\n    addRoom(hotel: $hotel, images: $images, name: $name, description: $description, others: $others, occupancy: $occupancy, price: $price, roomNumbers: $roomNumbers){\n      id\n      name\n      description\n      images{\n        url\n        uuid\n      }\n      price\n      others\n      occupancy\n    }\n  }\n"]))),I=Object(H.a)(c||(c=Object(O.a)(["\nmutation($id: ID!, $images: [image]!, $name: String!, $description: String!, $others: [String]!, $occupancy: Int!, $price: Int!, $roomNumbers: [Int]!){\n    updateRoom(id: $id, images: $images, name: $name, description: $description, others: $others, occupancy: $occupancy, price: $price, roomNumbers: $roomNumbers){\n      id\n      name\n      description\n      images{\n        url\n        uuid\n      }\n      price\n      others\n      occupancy\n    }\n  }\n"]))),L=Object(H.a)(r||(r=Object(O.a)(["\nmutation($id: ID!){\n    deleteRoom(id: $id){\n      id\n      name\n      description\n      images{\n        url\n        uuid\n      }\n      price\n      others\n      occupancy\n    }\n  }\n"]))),P=n(107),z=n(62),U=n(330),A=n.n(U),Y=function(e){var t=Object(B.a)(L),n=Object(h.a)(t,1)[0],a=e.items;console.log(a,e.data);var o=Object(M.o)(),c=function(){e.setLoading(!0),n({variables:{id:e.data.id},refetchQueries:[P.a,{variables:{id:e.data.hotel.id}}]}).then((function(t){e.setLoading(!1),z.b.success("Room deleted successfully",{autoClose:5500,pauseOnHover:!0})})).catch((function(t){e.setLoading(!1),z.b.error(t.message,{autoClose:5500,pauseOnHover:!0})}))};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(S.c,{style:{gridTemplateColumns:"repeat(".concat(a.length,", 1fr)")},className:"normal-col",children:[Object(w.jsx)(S.d,{children:e.data.name}),Object(w.jsx)(C.a,{interactive:!0,content:e.data.price,placement:"bottom",children:Object(w.jsx)(S.d,{children:e.data.price})}),Object(w.jsx)(C.a,{interactive:!0,content:e.data.occupancy,placement:"bottom",children:Object(w.jsx)(S.d,{children:e.data.occupancy})}),Object(w.jsx)(C.a,{interactive:!0,content:Object(R.e)(e.data.addedOn),placement:"bottom",children:Object(w.jsx)(S.d,{children:Object(R.d)(e.data.addedOn)})}),Object(w.jsxs)(S.a,{children:[Object(w.jsx)(S.b,{onClick:function(){return e.setRoomModal({state:!0,title:"Update Room Details",param:e.data,action:"update"})},children:Object(w.jsx)("img",{alt:"",width:"20px",src:"https://img.icons8.com/plumpy/24/000000/edit--v1.png"})}),Object(w.jsx)(S.b,{onClick:function(){return o("/hotel/".concat(e.data.hotel.id),{state:{view:"manager"}})},children:Object(w.jsx)("img",{alt:"",width:"20px",src:"https://img.icons8.com/color/48/000000/connection-status-off--v1.png"})}),Object(w.jsx)(S.b,{onClick:c,children:Object(w.jsx)(A.a,{style:{color:"#ff6464"}})})]})]}),Object(w.jsxs)(S.c,{className:"responsive-col",children:[Object(w.jsx)(S.d,{children:e.data.name}),Object(w.jsxs)(S.a,{style:{justifyContent:"flex-end"},children:[Object(w.jsx)(S.b,{onClick:function(){return e.setRoomModal({state:!0,title:"Update Room Details",param:e.data,action:"update"})},children:Object(w.jsx)("img",{alt:"",width:"20px",src:"https://img.icons8.com/plumpy/24/000000/edit--v1.png"})}),Object(w.jsx)(S.b,{onClick:function(){return o("/hotel/".concat(e.data.hotel.id),{state:{view:"manager"}})},children:Object(w.jsx)("img",{alt:"",width:"20px",src:"https://img.icons8.com/color/48/000000/connection-status-off--v1.png"})}),Object(w.jsx)(S.b,{onClick:c,children:Object(w.jsx)(A.a,{style:{color:"#ff6464"}})})]})]})]})},q=f.a.div(i||(i=Object(O.a)(["\n\n    @media(max-width: 1000px){\n        margin-top: 20px;\n    }\n\n"]))),T=function(e){var t=Object(x.useState)(""),n=Object(h.a)(t,2),a=n[0],o=n[1],c=Object(x.useState)(!1),r=Object(h.a)(c,2),i=r[0],s=r[1],l=["name","price","occupancy","addedOn","actions"],d=e.rooms.filter((function(e){return e.name.toLowerCase().includes(a.toString().toLowerCase())}));return Object(w.jsxs)(q,{children:[Object(w.jsx)(k.a,{query:a,setQuery:o,placeholder:"Search rooms by names..."}),Object(w.jsx)($,{list:["Room Name","Price","Occupancy","Added On","Actions"]}),i?Object(w.jsx)(y.a,{}):d.map((function(t){return Object(w.jsx)(Y,{data:t,setRoomModal:e.setRoomModal,setLoading:s,items:l},t.id)})),0===d.length&&Object(w.jsx)(v.g,{className:"small",style:{textAlign:"center",marginTop:"20px"},children:"No Rooms"})]})},E=n(75),_=n(344),F=n.n(_),Q=n(343),V=n.n(Q),J=(n(331),n(177)),K=n(27),W=n(23),X=n(36),G=n(30),Z=n(32),ee=n(302),te=(n(156),n(304)),ne=n.n(te),ae=(n(303),n(314)),oe=n(141),ce=n.n(oe),re=function(e){var t=e.room,n=Object(B.a)(D,{refetchQueries:[P.a,{variables:{id:e.hotel.id}}]}),a=Object(h.a)(n,1)[0],o=Object(B.a)(I,{refetchQueries:[P.a,{variables:{id:e.hotel.id}}]}),c=Object(h.a)(o,1)[0],r=Object(x.useState)(!1),i=Object(h.a)(r,2),s=i[0],l=i[1],d=Object(x.useState)(!1),u=Object(h.a)(d,2),b=u[0],j=u[1],m=Object(x.useState)({name:t?t.name:"",description:t?t.description:"",hotel:e.hotel.id,images:t?t.images:[],others:t?t.others:[],occupancy:t?t.occupancy:null,price:t?t.price:null,roomNumbers:t?t.roomNumbers:[]}),p=Object(h.a)(m,2),O=p[0],f=p[1],g=Object(x.useState)([]),v=Object(h.a)(g,2),k=v[0],N=v[1],$=Object(x.useState)([]),C=Object(h.a)($,2),S=C[0],M=C[1],H=function(){var n=Object(X.a)(Object(W.a)().mark((function n(a){var o,r,i;return Object(W.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),j(!0),o=[],!(S.length>0)){n.next=9;break}return O.images.forEach((function(e){S.includes(e.uuid)||o.push({url:e.url,uuid:e.uuid})})),r=[],O.images.forEach((function(e){S.includes(e.uuid)&&r.push({url:e.url,uuid:e.uuid})})),n.next=9,Object(R.b)(r,t.id);case 9:if(!(k.length>0)){n.next=15;break}return O.images.forEach((function(e){o.push({url:e.url,uuid:e.uuid})})),n.next=13,Object(R.a)(k,t);case 13:i=n.sent,o=o.concat(i);case 15:c({variables:{id:t.id,name:O.name,description:O.description,images:o,others:O.others,occupancy:O.occupancy,price:O.price,roomNumbers:O.roomNumbers}}).then((function(t){z.b.success("Room updated",{autoClose:5500,pauseOnHover:!0,onClose:e.setRoomModal(!1)}),l(!0),j(!1)})).catch((function(e){z.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),j(!1)}));case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=Array.from({length:e.hotel.totalRooms},(function(t,n){return{number:n+1,assigned:e.hotel.roomsMap["".concat(n+1)]&&!O.roomNumbers.includes(n+1)}})),U=function(e,t){var n=k;n[t]=e,N(n)};return Object(w.jsx)(ee.e,{children:Object(w.jsx)(ee.d,{className:"modal-box",children:b?Object(w.jsx)(y.a,{}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ne.a,{className:"close-icon",onClick:function(){return e.setRoomModal(!1)}}),Object(w.jsx)(ee.f,{children:e.title}),Object(w.jsxs)(ee.c,{children:[O.images.map((function(e,t){return Object(w.jsx)(ae.a,{imageUrl:e.url,data:e,styles:{height:"160px"},setImageURL:function(e){return U(e,t)},setSelected:M,selected:S},e.uuid)})),k.map((function(e,t){return Object(w.jsx)(ae.a,{imageUrl:e.url,data:e,styles:{height:"160px"},setImageURL:function(e){return U(e,t)},setSelected:M,selected:S},e.uuid)})),Object(w.jsx)(ee.a,{onClick:function(){N([].concat(Object(G.a)(k),[{url:null,uuid:null}]))},children:Object(w.jsx)(ce.a,{className:"plus-icon"})})]}),Object(w.jsxs)("form",{onSubmit:"update"===e.action?H:function(t){t.preventDefault(),j(!0),a({variables:{name:O.name,description:O.description,hotel:O.hotel,images:""===k[0]?O.images:k,others:O.others,occupancy:O.occupancy,price:O.price,roomNumbers:O.roomNumbers}}).then((function(t){z.b.success("New room added",{autoClose:5500,pauseOnHover:!0,onClose:e.setRoomModal(!1)}),l(!0),j(!1)})).catch((function(e){z.b.error(e.message,{autoClose:5500,pauseOnHover:!0}),j(!0)}))},children:[Object(w.jsx)(Z.c,{required:"true",style:{marginBottom:"16px"},value:O.name,onChange:function(e){return f(Object(K.a)(Object(K.a)({},O),{},{name:e.target.value}))},placeholder:"Room name"}),Object(w.jsx)(Z.e,{required:"true",style:{marginBottom:"16px"},value:O.description,onChange:function(e){return f(Object(K.a)(Object(K.a)({},O),{},{description:e.target.value}))},placeholder:"Room description"}),Object(w.jsx)(Z.c,{required:"true",style:{marginBottom:"16px"},type:"number",value:O.occupancy,onChange:function(e){return f(Object(K.a)(Object(K.a)({},O),{},{occupancy:Number(e.target.value)}))},placeholder:"Occupancy"}),Object(w.jsx)(Z.e,{required:"true",style:{marginBottom:"16px"},value:O.others,onChange:function(e){return f(Object(K.a)(Object(K.a)({},O),{},{others:e.target.value.split(",")}))},placeholder:"Room specifications (Add using ',')"}),Object(w.jsx)(Z.c,{required:"true",style:{marginBottom:"16px"},type:"number",value:O.price,onChange:function(e){return f(Object(K.a)(Object(K.a)({},O),{},{price:Number(e.target.value)}))},placeholder:"Price"}),Object(w.jsx)(ee.g,{children:L.map((function(e){return Object(w.jsx)("div",{className:"".concat(e.assigned?"assigned":O.roomNumbers.includes(e.number)?"selected":""),onClick:function(){return function(e,t){if(O.roomNumbers.includes(e)&&!t){var n=O.roomNumbers.filter((function(t){return t!==e}));f(Object(K.a)(Object(K.a)({},O),{},{roomNumbers:n}))}else{if(t)return;var a=O.roomNumbers;a.push(e),f(Object(K.a)(Object(K.a)({},O),{},{roomNumbers:a}))}}(e.number,e.assigned)},children:e.number})}))}),!s&&Object(w.jsx)(Z.a,{type:"submit",style:{marginLeft:"auto",marginTop:"40px"},children:e.title})]})]})})})},ie=n(321),se=n(71),le=n(137),de=n(328),ue=function(e){return Object(w.jsx)(ee.e,{children:Object(w.jsxs)(ee.d,{className:"modal-box",style:{width:"1200px"},children:[Object(w.jsx)(ne.a,{className:"close-icon",onClick:function(){return e.setBookingsModal({state:!1,title:""})}}),Object(w.jsx)(ee.f,{children:e.title}),Object(w.jsx)(de.default,{style:{marginTop:"0px",padding:"0px"},filter:"hotel",hotel:e.hotel,bookingsData:e.bookings})]})})},be=n(111),je=n(306),me=f.a.div(s||(s=Object(O.a)(["\n    background: white;\n    box-shadow: 2px 3px 7px 0px #66666682;\n    border-radius: 6px;\n    max-width: 100%;\n"]))),pe=f.a.div(l||(l=Object(O.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n    height: 100%\n"]))),he=f.a.div(d||(d=Object(O.a)(["\n    height: 100%;\n    width: 100%;\n    padding: 26px;\n    border: 1px solid #e2e2e2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    cursor: pointer;\n    &:hover{\n        box-shadow: 2px 3px 7px 0px #66666682;\n    }\n    h2{\n        margin-bottom: 10px;\n    }\n\n    p {\n        color: grey;\n        font-size: 14px;\n        text-align: center\n    }\n"]))),Oe=function(e){var t=e.hotel,n=Object(J.b)(je.a,{variables:{id:t.id}}),a=n.data,o=n.loading,c=n.error;if(o)return Object(w.jsx)(y.a,{});if(c)return Object(w.jsx)(be.a,{error:c});var r=a.getHotelBookings;return Object(w.jsx)(me,{children:Object(w.jsxs)(pe,{children:[Object(w.jsxs)(he,{children:[Object(w.jsxs)("h2",{children:[Object(w.jsx)("span",{style:{fontSize:"10px"},children:"Rs."})," ",function(){var e=0;return r.forEach((function(t){t.paid&&(e+=t.amount)})),e}()]}),Object(w.jsx)(S.d,{children:"Total Earnings"})]}),Object(w.jsxs)(he,{onClick:function(){return e.setBookingsModal({state:!0,title:"Hotel Bookings",param:r})},children:[Object(w.jsx)("h2",{children:r.length}),Object(w.jsx)(S.d,{children:"All Bookings (Click)"})]}),Object(w.jsxs)(he,{children:[Object(w.jsxs)("h2",{children:[t.rooms.length," / ",t.totalRooms]}),Object(w.jsx)(S.d,{children:"Available Rooms"})]}),Object(w.jsxs)(he,{children:[Object(w.jsx)("h2",{children:function(){var e=0,t=(new Date).getDate();return r.forEach((function(n){new Date(n.from).getDate()===t&&e++})),e}()}),Object(w.jsx)(S.d,{children:"Bookings For Today"})]})]})})},xe=f.a.div(u||(u=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    height: 360px;\n    gap: 16px;\n\n    @media(max-width: 1000px){\n        display: block;\n        height: fit-content\n    }\n"]))),fe=f.a.div(b||(b=Object(O.a)(["\n    width: 100%;\n    height: 100%;\n    border-radius: 10px;\n    background: grey;\n    max-width: -webkit-fill-available;\n    position: relative;\n    overflow: hidden;\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    color: #fff;\n    margin-bottom: 16px;\n    .card-details{\n        position: absolute;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background: #00000066;\n        padding: 16px;\n    }\n\n    @media(max-width: 1000px){\n        height: 360px;\n        margin: 0\n    }\n"]))),ge=f.a.div(j||(j=Object(O.a)(["\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: #fff;\n    text-align: center;\n    .card-option{\n        background: #0000009c;\n        width: 100%;\n        padding: 10px;\n        cursor: pointer;\n        :hover{\n            background: #383838\n        }\n    }\n"]))),ve=f.a.div(m||(m=Object(O.a)(["\n    width: 100%;\n    border-radius: 20px;\n    max-width: -webkit-fill-available;\n    margin-bottom: 20px;\n"]))),ye=f.a.div(p||(p=Object(O.a)(["\n    width: 80%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    margin-top: 10px;\n    white-space: nowrap;\n    span{\n        font-weight: bold\n    }\n"])));t.default=function(){var e=Object(x.useContext)(g.a).setPage,t=JSON.parse(localStorage.getItem("user")),n=Object(J.b)(P.a,{variables:{id:null===t||void 0===t?void 0:t.id}}),a=n.loading,o=n.data,c=n.error,r=Object(x.useState)({state:!1,title:"",param:null,action:""}),i=Object(h.a)(r,2),s=i[0],l=i[1],d=Object(x.useState)({state:!1,title:"",param:null,action:""}),u=Object(h.a)(d,2),b=u[0],j=u[1],m=Object(x.useState)({state:!1,title:"",param:null,action:""}),p=Object(h.a)(m,2),O=p[0],f=p[1];Object(x.useEffect)((function(){e("Dashboard")}),[]);var y=[{label:"Create Room",icon:Object(w.jsx)(V.a,{}),action:function(){return l({state:!0,title:"Add New Room",params:null,action:"add"})}},{label:"Edit Hotel",icon:Object(w.jsx)(F.a,{}),action:function(){return j({state:!0,title:"Update Hotel Details",params:null,action:"update"})}}];if(a)return Object(w.jsx)(se.a,{});if(c)return Object(w.jsx)(le.a,{error:c});var k=o.getHotel;return Object(w.jsxs)(v.c,{children:[s.state&&Object(w.jsx)(re,{action:s.action,title:s.title,hotel:k,room:s.param,setRoomModal:l}),b.state&&Object(w.jsx)(ie.a,{action:b.action,title:b.title,hotel:k,setHotelModal:j}),O.state&&Object(w.jsx)(ue,{title:O.title,setBookingsModal:f,hotel:k,bookings:O.param}),Object(w.jsx)(ve,{children:Object(w.jsx)(Oe,{hotel:k,setBookingsModal:f})}),Object(w.jsxs)(xe,{children:[Object(w.jsxs)(fe,{style:{backgroundImage:"url(".concat(k.image?k.image:E.a,")")},children:[Object(w.jsxs)("div",{className:"card-details",children:[Object(w.jsx)("h1",{children:k.name}),Object(w.jsx)("p",{children:k.location}),Object(w.jsx)("p",{className:"description",children:k.description}),Object(w.jsxs)(ye,{children:["Total Rooms : ",Object(w.jsx)("span",{children:k.totalRooms})]}),Object(w.jsxs)(ye,{children:["Added on : ",Object(w.jsx)("span",{children:Object(R.d)(k.addedOn,"Do MMMM, YYYY")})]}),Object(w.jsxs)(ye,{children:["Manager: ",Object(w.jsx)("span",{children:k.manager.name})]})]}),Object(w.jsx)(ge,{children:y.map((function(e){return Object(w.jsxs)("div",{className:"card-option",onClick:e.action,children:[e.icon,Object(w.jsx)("p",{children:e.label})]})}))})]}),Object(w.jsx)(T,{rooms:k.rooms,setRoomModal:l})]})]})}}}]);
//# sourceMappingURL=5.808ea064.chunk.js.map