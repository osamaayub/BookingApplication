{"version":3,"sources":["utils/Firebase.js","utils/utilFunctions.js","components/GlobalStyles/ModalStyles.js","../node_modules/@mui/icons-material/Close.js","graphql/queries/bookingQueries.js","components/GlobalStyles/TableStyles.js","graphql/mutations/bookingMutation.js","components/SearchBar/SearchBar.js","../node_modules/@mui/icons-material/MoreHoriz.js","../node_modules/@mui/icons-material/AutoDelete.js","pages/Bookings/BookingCard.js","pages/Bookings/BookingsList.js","components/Modals/BookingModal.js","pages/Bookings/Bookings.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","getStorage","getDate","d","moment","format","getEasyDate","getAge","cur","dob","diff","imageUpload","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","file","refPath","reference","uploadTask","promise","wrap","_context2","prev","next","alert","abrupt","ref","uploadBytesResumable","on","snapshot","error","toast","autoClose","pauseOnHover","getDownloadURL","Promise","resolve","then","_ref2","_callee","res","_context","url","sent","stop","_x3","apply","arguments","_x","_x2","bulkImageUpload","_ref3","_callee4","images","room","result","_context4","length","all","map","_ref4","_callee3","image","idx","imgID","_context3","uuidv4","concat","id","push","uuid","_x6","_x7","_x4","_x5","deleteImageBulk","_ref6","_callee7","roomId","_context7","_ref7","_callee6","imageRef","_context6","deleteObject","_x12","_x13","_x10","_x11","ModalContainer","styled","div","_templateObject","_taggedTemplateLiteral","ModalBox","_templateObject2","ModalTitle","h3","_templateObject3","RoomSelectionBox","_templateObject4","GridContainer","_templateObject5","AddField","_templateObject6","FlexBox","_templateObject7","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","GET_USER_BOOKINGS","gql","GET_HOTEL_BOOKINGS","Item","Text","p","Button","button","ActionsContainer","ADD_BOOKING","CANCEL_BOOKING","SearchBar","props","_jsx","className","children","Input","placeholder","query","onChange","e","setQuery","target","CardContainer","BookingCard","_props$data","data","hotel","from","to","bookedOn","amount","paid","_useMutation","useMutation","cancelBooking","_slicedToArray","_jsxs","style","display","justifyContent","alignItems","fontSize","fontWeight","location","name","background","onClick","setModal","state","param","title","MoreHorizIcon","color","isOld","setLoading","variables","refetchQueries","bookedBy","success","catch","err","message","AutoDeleteIcon","Container","BookingsList","_useState","useState","_useState2","_useState3","_useState4","loading","curDate","Date","setHours","upcomingBookings","bookings","filter","b","oldBookings","toLowerCase","includes","toString","margin","Loader","booking","textAlign","marginTop","BookingModal","navigate","useNavigate","CloseIcon","username","Tippy","interactive","content","placement","flexBasis","days","roomNumbers","r","numOfPeople","people","adults","price","ButtonsContainer","FormButton","Bookings","bookingsData","setPage","useContext","GlobalContext","useEffect","action","modal","user","JSON","parse","localStorage","getItem","_useQuery","useQuery","PageLoader","PageError","getUserBookings","PageContainer"],"mappings":"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","file":"static/js/6.1487bfe9.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {getStorage, ref} from 'firebase/storage'\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyA3VHRbj4knFBXK3YVFdsr7xn2MvE1A0_E\",\r\n    authDomain: \"hotel-booking-app-2c070.firebaseapp.com\",\r\n    projectId: \"hotel-booking-app-2c070\",\r\n    storageBucket: \"hotel-booking-app-2c070.appspot.com\",\r\n    messagingSenderId: \"308536271440\",\r\n    appId: \"1:308536271440:web:cf389c892a5fa653486755\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst storage = getStorage(app)\r\n\r\nexport {\r\n    storage\r\n}\r\n","import { getDownloadURL, ref, uploadBytesResumable, deleteObject } from '@firebase/storage'\r\nimport moment from 'moment'\r\nimport { toast } from 'react-toastify'\r\nimport { storage } from \"./Firebase\"\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const getDate = (d) => {\r\n    return moment(d).format('DD/MM/YYYY')\r\n}\r\n\r\nexport const getEasyDate = (d) => {\r\n    let dT = moment(d).format('Do MMMM, YYYY')\r\n    return dT\r\n}\r\n\r\nexport const getAge = (d) => {\r\n    let cur = moment()\r\n    let dob = moment(d).format('YYYY')\r\n    var diff = cur.diff(dob, 'years')\r\n    return diff\r\n}\r\n\r\nexport const isDate = (d) => {\r\n    let dT = moment(d).isValid()\r\n    return dT\r\n}\r\n\r\nexport const imageUpload = async (file, refPath) => {\r\n    if (!file) {\r\n        alert(\"No file found.\")\r\n        return\r\n    }\r\n    const reference = ref(storage, refPath)\r\n    const uploadTask = uploadBytesResumable(reference, file)\r\n    let promise\r\n\r\n    uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => { },\r\n        error => {\r\n            toast.error(error, {\r\n                autoClose: 5500,\r\n                pauseOnHover: true\r\n            })\r\n        },\r\n        () => {\r\n            promise = getDownloadURL(uploadTask.snapshot.ref)\r\n        }\r\n    )\r\n    return await Promise.resolve(uploadTask)\r\n        .then(async res =>\r\n            await Promise.resolve(promise)\r\n                .then(url => url)\r\n        )\r\n}\r\n\r\nexport const bulkImageUpload = async (images, room) => {\r\n    if (!images || images.length === 0) {\r\n        alert(\"No file found.\")\r\n        return\r\n    }\r\n    const result = []\r\n\r\n    await Promise.all(images.map(async (image, idx) => {\r\n        const imgID = uuidv4()\r\n        let refPath = `images/rooms/${room.id}/roomImage-${imgID}`\r\n        let url = await imageUpload(image, refPath)\r\n        result.push({ url: url, uuid: imgID })\r\n    }));\r\n\r\n    return result\r\n}\r\n\r\n\r\nexport const deleteImage = async (imgID, roomId) => {\r\n    const imageRef = ref(storage, `images/rooms/${roomId}/roomImage-${imgID}`);\r\n    await deleteObject(imageRef)\r\n}\r\n\r\nexport const deleteImageBulk = async (images, roomId) => {\r\n    await Promise.all(images.map(async (image, idx) => {\r\n        const imgID = image.uuid\r\n        const imageRef = ref(storage, `images/rooms/${roomId}/roomImage-${imgID}`);\r\n        await deleteObject(imageRef)\r\n    }));\r\n}","import styled from 'styled-components'\r\n\r\nexport const ModalContainer = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: #000000d1;\r\n    z-index: 9999999\r\n`\r\n\r\nexport const ModalBox = styled.div`;\r\n    width: 700px;\r\n    max-height: 80vh;\r\n    overflow-y: scroll;\r\n    background: #fff;\r\n    padding: 20px;\r\n    border-radius: 6px;\r\n    position: relative;\r\n    .close-icon{\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n        cursor: pointer\r\n    }\r\n    @media(max-width: 700px){\r\n        width: calc(100vw - 40px);\r\n    }\r\n`\r\n\r\nexport const ModalTitle = styled.h3`\r\n    font-weight: 26px;\r\n    font-weight: 600;\r\n    margin-bottom: 20px\r\n`\r\n\r\nexport const RoomSelectionBox = styled.div`\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));\r\n    justify-content: center;\r\n    row-gap: 16px;\r\n    column-gap: 16px;\r\n    div{\r\n        width: 40px;\r\n        height: 40px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border: 1px solid red;\r\n        cursor: pointer;\r\n        border-radius: 4px;\r\n    }\r\n    .assigned{\r\n        background: #ffadad\r\n    }\r\n    .selected{\r\n        background: #8dffd0;\r\n        border-color: green\r\n    }\r\n`\r\n\r\nexport const GridContainer = styled.div`\r\n    margin-bottom: 20px;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n    grid-gap: 16px;\r\n`\r\n\r\nexport const AddField = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    border-radius: 4px;\r\n    background: #ffcdb8;\r\n    height: 160px;\r\n    .plus-icon{\r\n        color: #9a9a9a !important;\r\n        font-size: 40px !important;\r\n    }\r\n`\r\n\r\nexport const FlexBox = styled.div`\r\n    display: flex;\r\n    justify-content: space-between\r\n`","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USER_BOOKINGS = gql`\r\nquery($id: ID!){\r\n    getUserBookings(id: $id){\r\n        id\r\n        from\r\n        to\r\n        days\r\n        paid\r\n        amount\r\n        bookedOn\r\n        people{\r\n            children\r\n            adults\r\n        }\r\n        roomNumbers\r\n        numOfPeople\r\n        location\r\n        bookedBy{\r\n            name\r\n            email\r\n            username\r\n            id\r\n        }\r\n        hotel{\r\n            id\r\n            name\r\n            location\r\n        }\r\n        room{\r\n            id\r\n            name\r\n            price\r\n            others\r\n        }\r\n    }\r\n}\r\n`\r\n\r\nexport const GET_HOTEL_BOOKINGS = gql`\r\nquery($id: ID!){\r\n    getHotelBookings(id: $id){\r\n        id\r\n        from\r\n        to\r\n        days\r\n        paid\r\n        amount\r\n        bookedOn\r\n        people{\r\n            children\r\n            adults\r\n        }\r\n        roomNumbers\r\n        numOfPeople\r\n        location\r\n        bookedBy{\r\n            name\r\n            email\r\n            username\r\n            id\r\n        }\r\n        hotel{\r\n            id\r\n            name\r\n            location\r\n        }\r\n        room{\r\n            id\r\n            name\r\n            price\r\n            others\r\n        }\r\n    }\r\n}\r\n`\r\n\r\nexport const GET_BOOKING = gql`\r\n    query($id: ID!){\r\n        getBooking(id: id){\r\n            id\r\n        from\r\n        to\r\n        days\r\n        paid\r\n        amount\r\n        bookedOn\r\n        people{\r\n            children\r\n            adults\r\n        }\r\n        roomNumbers\r\n        numOfPeople\r\n        location\r\n        bookedBy{\r\n            name\r\n            email\r\n            username\r\n            id\r\n        }\r\n        hotel{\r\n            id\r\n            name\r\n            location\r\n        }\r\n        room{\r\n            id\r\n            name\r\n            price\r\n            others\r\n        }\r\n        }\r\n    }\r\n`","import styled from 'styled-components'\r\n\r\nexport const Item = styled.div`\r\n  height: 58px;\r\n  border: 1px solid #d2d2d2;\r\n  padding: 8px 10px;\r\n  display: grid;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-radius: 6px;\r\n  margin-bottom: 10px;\r\n\r\n  &.normal-col{\r\n    @media(max-width: 700px) {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  &.responsive-col{\r\n    display: none;\r\n    grid-template-columns: 0.5fr 1fr !important;\r\n\r\n    @media(max-width: 700px) {\r\n      display: grid;\r\n    }\r\n  }\r\n\r\n  \r\n`;\r\n\r\nexport const Text = styled.p`\r\n  margin: 0 !important;\r\n  text-align: center;\r\n  width: 100%;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  :first-child{\r\n    text-align: left;\r\n  }\r\n  p{\r\n    width: fit-content;\r\n    margin: 0\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid #d2d2d2;\r\n  border-radius: 4px !important;\r\n  outline: 0;\r\n  margin: 0 6px !important;\r\n  background: transparent;\r\n  cursor: pointer\r\n`;\r\n\r\nexport const ActionsContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const ADD_BOOKING = gql`\r\nmutation($from: Date!, $to: Date!, $roomNumbers: [Int]!, $paid: Boolean!, $amount: Int!,\r\n    $bookedBy: ID!, $people: people!, $room: ID!, $hotel: ID!){\r\n    addBooking(from: $from, to: $to, roomNumbers: $roomNumbers, paid: $paid, amount: $amount, \r\n        bookedBy: $bookedBy, people: $people, room: $room, hotel: $hotel){\r\n      id\r\n      from\r\n      to\r\n      bookedBy{\r\n          name\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const CANCEL_BOOKING = gql`\r\nmutation($id: ID!){\r\n    cancelBooking(id: $id){\r\n      id\r\n      from\r\n      to\r\n      bookedBy{\r\n          name\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport \"./search.css\"\r\nimport {Input} from \"../GlobalStyles/FormStyles\"\r\n\r\nconst SearchBar = (props) => {\r\n    return (\r\n        <div className=\"search-bar\">\r\n            <Input placeholder={props.placeholder}\r\n                value={props.query}\r\n                onChange={(e) => props.setQuery(e.target.value)} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHoriz');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68c1.12 2.36 3.53 4 6.32 4 3.87 0 7-3.13 7-7s-3.13-7-7-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16.5 12H15v5l3.6 2.1.8-1.2-2.9-1.7z\"\n}, \"1\")], 'AutoDelete');\nexports.default = _default;","import { useMutation } from '@apollo/client'\r\nimport React from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport styled from 'styled-components'\r\nimport { ActionsContainer, Button, Text } from '../../components/GlobalStyles/TableStyles'\r\nimport { CANCEL_BOOKING } from '../../graphql/mutations/bookingMutation'\r\nimport { GET_USER_BOOKINGS } from '../../graphql/queries/bookingQueries'\r\nimport { getDate } from '../../utils/utilFunctions'\r\nimport AutoDeleteIcon from '@mui/icons-material/AutoDelete';\r\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\r\n\r\nconst CardContainer = styled.div`\r\n    background: white;\r\n    box-shadow: 2px 3px 7px 0px #66666682;\r\n    padding: 14px;\r\n    border-radius: 6px;\r\n    max-width: 100%;\r\n\r\n    .details {\r\n        margin-top: 16px;\r\n        \r\n        p {\r\n            text-align: start;\r\n            font-size: 14px;\r\n            color: grey\r\n        }\r\n    }\r\n\r\n    .payment-status {\r\n        padding: 6px;\r\n        border-radius: 4px;\r\n        background: #f16d59;\r\n        text-align: start;\r\n        font-size: 14px;\r\n        width: fit-content;\r\n        margin-top: 6px !important;\r\n        color: #fff;\r\n\r\n        &.paid{\r\n            background: #5fffc5;\r\n            color: #008d5a\r\n        }\r\n    }\r\n    \r\n    \r\n`\r\n\r\nconst BookingCard = (props) => {\r\n\r\n    const {\r\n        hotel,\r\n        room,\r\n        from,\r\n        to,\r\n        bookedOn,\r\n        amount,\r\n        paid,\r\n    } = props.data\r\n\r\n    const [cancelBooking] = useMutation(CANCEL_BOOKING)\r\n\r\n    const handleCancel = () => {\r\n        props.setLoading(true)\r\n        cancelBooking({\r\n            variables: {\r\n                id: props.data.id\r\n            },\r\n            refetchQueries: [\r\n                GET_USER_BOOKINGS,\r\n                { variables: { id: props.data.bookedBy.id } }\r\n            ]\r\n        }).then(res => {\r\n            props.setLoading(false)\r\n            toast.success(\"Canceled booking.\", {\r\n                autoClose: 5500,\r\n                pauseOnHover: true\r\n            })\r\n        }).catch(err => {\r\n            props.setLoading(false)\r\n            toast.error(err.message, {\r\n                autoClose: 5500,\r\n                pauseOnHover: true\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <CardContainer>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                <div>\r\n                    <Text style={{ fontSize: '20px', fontWeight: 'bold' }}>{hotel.location}, {hotel.name}</Text>\r\n                    <Text className={`payment-status ${paid ? 'paid' : ''}`}>{paid ? 'Paid' : 'Not Paid'}</Text>\r\n                </div>\r\n                <ActionsContainer style={{ justifyContent: 'flex-end' }}>\r\n                    <Button style={{ background: '#ff6e29' }}\r\n                        onClick={() => props.setModal({ state: true, param: props.data, title: 'Booking Details' })}>\r\n                        <MoreHorizIcon style={{ color: '#fff' }} />\r\n                    </Button>\r\n                    {!props.isOld && <Button style={{ background: '#ff6e29' }} onClick={handleCancel}><AutoDeleteIcon style={{ color: '#fff' }} /></Button>}\r\n                </ActionsContainer>\r\n            </div>\r\n            <div className='details'>\r\n                <Text>{room.name}</Text>\r\n                <Text>From {getDate(from)} - To {getDate(to)}</Text>\r\n                <Text>Booked On: {getDate(bookedOn)}</Text>\r\n                <Text>Amount: Rs. {amount}</Text>\r\n            </div>\r\n        </CardContainer>\r\n    )\r\n}\r\n\r\nexport default BookingCard","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport SearchBar from '../../components/SearchBar/SearchBar'\r\nimport { Text } from \"../../components/GlobalStyles/PageStyles\"\r\nimport Loader from '../../components/Loaders/Loader'\r\nimport BookingCard from './BookingCard'\r\nimport { GridContainer } from '../../components/GlobalStyles/ModalStyles'\r\n\r\nconst Container = styled.div`\r\n    margin-top: 20px;\r\n\r\n    .grid-container {\r\n        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n\r\n        @media(max-width: 375px){\r\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n        }\r\n    }\r\n\r\n`\r\n\r\nconst BookingsList = (props) => {\r\n\r\n    const [query, setQuery] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const curDate = new Date().setHours(0, 0, 0, 0)\r\n\r\n    let upcomingBookings = props.bookings ? props.bookings.filter(b => new Date(b.from) > curDate) : []\r\n    let oldBookings = props.bookings ? props.bookings.filter(b => new Date(b.from) <= curDate) : []\r\n\r\n    upcomingBookings = upcomingBookings.filter(b => {\r\n        return b.hotel.name.toLowerCase().includes(query.toString().toLowerCase())\r\n    })\r\n    oldBookings = oldBookings.filter(b => {\r\n        return b.hotel.name.toLowerCase().includes(query.toString().toLowerCase())\r\n    })\r\n\r\n    return (\r\n        <Container>\r\n            <SearchBar\r\n                query={query}\r\n                setQuery={setQuery}\r\n                placeholder=\"Search bookings by hotel names...\" />\r\n\r\n            <Text style={{ fontSize: '20px', margin: '26px 0' }}>Upcoming Bookings</Text>\r\n\r\n            <GridContainer className='grid-container'>\r\n                {!loading ? upcomingBookings.map(booking =>\r\n                    <BookingCard\r\n                        key={booking.id}\r\n                        data={booking}\r\n                        setLoading={setLoading}\r\n                        loading={loading}\r\n                        setModal={props.setModal} />\r\n                ) : <Loader />}\r\n            </GridContainer>\r\n            {upcomingBookings.length === 0 &&\r\n                <Text className=\"small\" style={{ textAlign: 'center', marginTop: '20px' }}>No Bookings</Text>}\r\n\r\n            <br />\r\n\r\n            <Text style={{ fontSize: '20px', margin: '26px 0' }}>Old Bookings</Text>\r\n            <GridContainer className='grid-container'>\r\n                {!loading ? oldBookings.map(booking =>\r\n                    <BookingCard\r\n                        key={booking.id}\r\n                        data={booking}\r\n                        setLoading={setLoading}\r\n                        loading={loading}\r\n                        setModal={props.setModal}\r\n                        isOld={true} />\r\n                ) : <Loader />}\r\n            </GridContainer>\r\n            {oldBookings.length === 0 &&\r\n                <Text className=\"small\" style={{ textAlign: 'center', marginTop: '20px' }}>No Bookings</Text>}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default BookingsList\r\n","import React from 'react'\r\nimport { FormButton } from '../GlobalStyles/FormStyles'\r\nimport { FlexBox, ModalBox, ModalContainer, ModalTitle } from '../GlobalStyles/ModalStyles'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport \"./animation.css\"\r\nimport { getDate, getEasyDate } from '../../utils/utilFunctions'\r\nimport { Text } from '../GlobalStyles/PageStyles'\r\nimport Tippy from '@tippyjs/react'\r\nimport { ButtonsContainer } from '../../pages/Auth/ModuleStyles'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst BookingModal = (props) => {\r\n\r\n    const booking = props.booking\r\n    const navigate = useNavigate()\r\n\r\n    const payLink = () => {\r\n        navigate(`/payment/${booking.hotel.id}/${booking.room.id}/1`, { state: booking })\r\n    }\r\n\r\n    return (\r\n        <ModalContainer>\r\n            <ModalBox className=\"modal-box\">\r\n                <CloseIcon className=\"close-icon\"\r\n                    onClick={() => props.setModal({ state: false, param: null, title: '' })} />\r\n                <ModalTitle>{props.title}</ModalTitle>\r\n\r\n                <br />\r\n\r\n                <Text className=\"small\">Booked By: <span>{booking.bookedBy.name}</span></Text>\r\n                <Text className=\"small\">Username: <span>{booking.bookedBy.username}</span></Text>\r\n                <Tippy interactive={true} content={getEasyDate(booking.bookedOn)} placement=\"bottom\">\r\n                    <Text className=\"small\">Booked On: <span>{getDate(booking.bookedOn)}</span></Text>\r\n                </Tippy>\r\n\r\n                <hr />\r\n                <br />\r\n\r\n                <FlexBox>\r\n\r\n                    <div style={{ flexBasis: '46%' }}>\r\n                        <Text className=\"small\">Hotel: <span>{booking.hotel.name}</span></Text>\r\n                        <Text className=\"small\">Location: <span>{booking.location}</span></Text>\r\n                        <Text className=\"small\">Room: <span>{booking.room.name}</span></Text>\r\n                        <Tippy interactive={true} content={getEasyDate(booking.from)} placement=\"bottom\">\r\n                            <Text className=\"small\">From: <span>{getDate(booking.from)}</span></Text>\r\n                        </Tippy>\r\n                        <Tippy interactive={true} content={getEasyDate(booking.to)} placement=\"bottom\">\r\n                            <Text className=\"small\">To: <span>{getDate(booking.to)}</span></Text>\r\n                        </Tippy>\r\n                        <Text className=\"small\">Duration:\r\n                            <span> {booking.days} {booking.days === 1 ? 'Day' : 'Days'}</span>\r\n                        </Text>\r\n                    </div>\r\n\r\n                    <div style={{ flexBasis: '46%' }}>\r\n                        <Text className=\"small\">Rooms: \r\n                            {booking.roomNumbers.map(r =>\r\n                                (<span className=\"highlight\" style={{ margin: '4px 2px' }}>{r}</span>)\r\n                            )}\r\n                        </Text>\r\n                        <Text className=\"small\">Number of persons: <span>{booking.numOfPeople}</span></Text>\r\n                        <Text className=\"small\">Adults: <span>{booking.people.adults}</span></Text>\r\n                        <Text className=\"small\">Children: <span>{booking.people.children}</span></Text>\r\n                    </div>\r\n                </FlexBox>\r\n\r\n                <br />\r\n                <hr />\r\n                <br />\r\n                <Text className=\"small\">Room Price: <span>Rs. {booking.room.price}</span></Text>\r\n                <Text className=\"small\">Amount {booking.paid ? 'Paid' : 'To Be Paid'}: <span>Rs. {booking.amount}</span></Text>\r\n                <Text className=\"small\">Payment Status:\r\n                    <span> {booking.paid ? 'Paid' : 'Not Paid'}</span>\r\n                </Text>\r\n                <ButtonsContainer>\r\n                    <FormButton>View Hotel & Room</FormButton>\r\n                    {!booking.paid ? <FormButton onClick={payLink}>Pay Now</FormButton> : null}\r\n                </ButtonsContainer>\r\n            </ModalBox>\r\n        </ModalContainer>\r\n    )\r\n}\r\n\r\nexport default BookingModal\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport { PageContainer } from '../../components/GlobalStyles/PageStyles'\r\nimport BookingsList from './BookingsList'\r\nimport { GlobalContext } from \"../../utils/Context\"\r\nimport { useQuery } from '@apollo/client'\r\nimport { GET_USER_BOOKINGS } from '../../graphql/queries/bookingQueries'\r\nimport PageLoader from \"../../components/Loaders/PageLoader.js\"\r\nimport PageError from '../../components/Error/PageError'\r\nimport BookingModal from '../../components/Modals/BookingModal'\r\n\r\nconst Bookings = (props) => {\r\n\r\n    const { style, bookingsData } = props\r\n\r\n    const { setPage } = useContext(GlobalContext)\r\n\r\n    useEffect(() => {\r\n        setPage(\"Bookings\")\r\n    }, [])\r\n\r\n    const [modal, setModal] = useState({\r\n        state: false,\r\n        title: '',\r\n        param: null,\r\n        action: ''\r\n    })\r\n\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n\r\n    const { data, loading, error } = useQuery(GET_USER_BOOKINGS,{variables: {id: user.id}})\r\n\r\n    if (loading) return <PageLoader />\r\n    if (error) return <PageError error={error} />\r\n\r\n    const bookings = bookingsData ? bookingsData : data.getUserBookings\r\n\r\n    return (\r\n        <PageContainer style={style}>\r\n            {modal.state ? <BookingModal\r\n                booking={modal.param}\r\n                setModal={setModal}\r\n                title={modal.title} /> : null}\r\n            <BookingsList\r\n                bookings={bookings}\r\n                setModal={setModal}\r\n                modal={modal} />\r\n        </PageContainer>\r\n    )\r\n}\r\n\r\nexport default Bookings\r\n"],"sourceRoot":""}